# mqtop Configuration
# Copy this file to config.toml and edit with your settings

[mqtt]
# ============================================================================
# MQTT Broker Connections
# ============================================================================

# Active server name (must match a server below)
active_server = "default"

[[mqtt.servers]]
# Unique name for this server
name = "default"

# Broker hostname
host = "mqtt.example.com"

# Broker port (typically 1883 for plain, 8883 for TLS)
port = 8883

# Enable TLS/SSL encryption
use_tls = true

# ============================================================================
# Authentication
# ============================================================================

# Client ID - unique identifier for this connection
# Also used as username if username is not explicitly set
client_id = "mqtop-explorer"

# Username for MQTT authentication
# If not set, defaults to client_id
# username = "your-username"

# Authentication token (password field)
# Stored in config (plain text)
# token = "your-jwt-token-here"

# ============================================================================
# Subscription
# ============================================================================

# Topic pattern to subscribe to
# Supports MQTT wildcards:
#   # = multi-level wildcard (matches any number of levels)
#   + = single-level wildcard (matches exactly one level)
#
# Examples:
#   "#"                      - All topics (default)
#   "sensors/#"              - All sensor data
#   "sensors/+/temperature"  - Temperature from any device
#   "building/+/floor/#"     - All data from any floor
subscribe_topic = "#"

# Keep-alive interval in seconds
# Broker will disconnect if no packets received within 1.5x this interval
keep_alive_secs = 30

[ui]
# ============================================================================
# User Interface Settings
# ============================================================================

# Number of messages to buffer per topic
# Higher values use more memory but allow scrolling through history
message_buffer_size = 100

# Time window for rate calculations (messages/sec, bytes/sec)
# Shorter windows are more responsive, longer windows are smoother
stats_window_secs = 10

# UI refresh rate in milliseconds
# Lower values = smoother updates but higher CPU usage
# Recommended: 50-200ms
tick_rate_ms = 100

# ============================================================================
# Topic Colors (Optional)
# ============================================================================
# Customize topic highlighting in the tree view.
# Topics matching a pattern will be displayed in the specified color.
# Patterns are case-insensitive and match segment names or path prefixes.
#
# Available colors:
#   red, green, blue, yellow, cyan, magenta, white, gray
#   light_red, light_green, light_blue, light_yellow, light_cyan, light_magenta
#
# Examples:
# [[ui.topic_colors]]
# pattern = "sensors"
# color = "cyan"
#
# [[ui.topic_colors]]
# pattern = "alerts"
# color = "red"
#
# [[ui.topic_colors]]
# pattern = "status"
# color = "green"

# ============================================================================
# Topic Categories (Optional)
# ============================================================================
# Count topics by category in the Stats panel.
# Useful for monitoring different parts of your topic hierarchy.
# Patterns are case-insensitive and match anywhere in the topic path.
#
# Examples:
# [[ui.topic_categories]]
# label = "Sensors"
# pattern = "sensors"
# color = "cyan"
#
# [[ui.topic_categories]]
# label = "Alerts"
# pattern = "alerts"
# color = "red"
#
# [[ui.topic_categories]]
# label = "Devices"
# pattern = "devices"
# color = "green"
